/*! jquery.message v0.0.2 hello@neftalibautista.com | http://www.neftalibautista.com */
(function(){var f,b,a,c,e,d;f=jQuery;d=window.setTimeout;c=(function(){g.prototype.default_options={id:"hux_messages_notice",classname:"notice",force:true,wrapper:{id:"wrapper",classname:"wrapper"},content:{id:"content",classname:"content"},speed:2000,drop:false,destroy:false,timeout:6000};function g(h,i){var j,k;this.maincontainer=h;if((i.classname!=null)&&typeof i.classname==="string"){i.classname=""+this.default_options.classname+" "+i.classname}else{i.classname=this.default_options.classname}this.options=f.extend({},this.default_options,i);this.$maincontainer=f(this.maincontainer);k=this.options.wrapper;j=this.options.content;k.id=""+this.options.id+"_"+k.id;j.id=""+k.id+"_"+j.id;if(!this.$maincontainer.get(0)&&this.options.force){}else{if(!this.$maincontainer.get(0)){f.error("Notice Class: maincontainer ("+this.maincontainer+") is undefined")}}this.buildBackground();this.$notice.hide(0)}g.prototype.show=function(k,i){var h,j;if(k==null){k=(function(){return null})}h=this;j=this.options.speed;if(typeof k==="number"||typeof k==="string"){j=k;k=function(){return null}}if(typeof i==="function"){i.call(this.$notice,this)}else{this.$notice.fadeIn(j,function(l){var m;m=h;return d(function(){m=h;return m.hide()},m.options.timeout)})}k(this);return this};g.prototype.hide=function(k,i){var h,j;if(k==null){k=(function(){return null})}h=this;j=this.options.speed;if(typeof k==="number"||typeof k==="string"){j=k;k=function(){return null}}if(typeof i==="function"){i.call(this.$notice,this)}else{this.$notice.fadeOut(j,function(l){var m;m=h;if(m.options.drop!=null){return m.drop()}})}k(this);return this};g.prototype.drop=function(){this.$notice.remove();if(this.options.destroy!=null){this.destroy()}return this};g.prototype.destroy=function(){this.$notice.remove();return this};g.prototype.setContent=function(h){this.content=h;this.$content.html(this.content);return this};g.prototype.buildBackground=function(){var h,j,i;h=this.options;i=h.wrapper;j=h.content;this.$notice=f("<div id='"+h.id+"' class='"+h.classname+"'></div>");this.$wrapper=f("<div id='"+i.id+"' class='"+i.classname+"'></div>");this.$content=f("<div id='"+j.id+"' class='"+j.classname+"'></div>");this.$maincontainer.append(this.$notice.append(this.$wrapper.append(this.$content)));return this};return g})();e=(function(){g.prototype.default_options={id:"hux_messages_noticer",classname:"noticer",force:true};function g(i,j,h){this.container=i;this.maincontainer=h;this.notices=[];this.$container=f([]);this.options=f.extend({},this.default_options,j);if(!f(this.container).get(0)&&this.options.force){this.container=f("<div id='"+this.options.id+"'></div>");f(this.maincontainer).append(this.container)}else{if(!f(this.container).get(0)){f.error("Noticer Class: container ("+this.container+") is undefined")}}this.$container=f(this.container);this.$container.addClass(this.options.classname)}g.prototype.notice=function(j,h){var k,i;if(j==null){j=null}if(arguments.length<4){i=typeof h==="object"?f.extend({},h):{};i.id=""+this.options.id+"_"+(this.notices.length++);k=this.createNotice(this.$container,i);if(j&&typeof j==="string"&&f.trim(j)!==""){k.setContent(j);if((typeof h==="function"||(typeof h==="string"||typeof h==="number"))||(!h&&arguments.length===3)){k.show.apply(k,Array.prototype.slice.call(arguments,1))}else{k.show()}}}this.notices.push(k);return k};g.prototype.createNotice=function(j,i,h){return new c(j,i,h)};return g})();b=(function(){g.prototype.default_options={id:"hux_messages_ajax",classname:"ajax",force:true,default_message:"loading..."};function g(i,j,h){this.container=i;this.maincontainer=h;this.$container=f([]);this.options=f.extend({},this.default_options,j);if(!f(this.container).get(0)&&this.options.force){this.container=f("<span id='"+this.options.id+"'></span>");f(this.maincontainer).append(this.container)}else{if(!f(this.container).get(0)){f.error("Message Class: container ("+this.container+") is undefined")}}this.$container=f(this.container);this.$container.attr("class",this.options.classname);this.off()}g.prototype.on=function(h){var i;i=h||this.options.default_message;this.$container.text(i).css({display:"block"});return this};g.prototype.off=function(){this.$container.empty().css({display:"none"});return this};g.prototype.setOptions=function(h){this.options=f.extend({},this.options,h);return this};return g})();a=(function(){g.prototype.default_options={maincontainer:{id:"hux_messages",classname:"block-messages"},force:true};function g(h,i){this.container=h;this.$container=f([]);this.options=f.extend({},this.default_options,i);if(!f(this.container).get(0)&&this.options.force){this.container=f("<div id='"+this.options.maincontainer.id+"'></div>");f("body").append(this.container)}else{if(!f(this.container).get(0)){f.error("Message Class: maincontainer ("+this.container+") is undefined")}}this.$container=f(this.container);this.options.maincontainer.id=this.$container.attr("id");this.$container.addClass(this.options.maincontainer.classname);this.ajax=new b(null,this.options.ajax,this.$container);this.noticer=new e(null,this.options.noticer,this.$container);this.Notice=function(){return this.noticer.notice.apply(this.noticer,arguments)};this.Ajax=function(j){if((j!=null)&&typeof j==="string"){if(j==="off"){return this.ajax.off()}else{return this.ajax.on(j)}}}}g.prototype.newNoticer=function(i,j,h){return new e(i,j,h)};g.prototype.newAjax=function(i,j,h){return new b(i,j,h)};return g})();f.MSG=new a();(function(i){var g,h;h={};g={on:function(k,j){k.on.apply(k,j);return this},off:function(k,j){k.off.apply(k,j);return this}};return i.fn.extend({ajax_msg:function(o,n,l){var j,m,k;k=i.fn.ajax_msg;j=arguments;m=i.extend({},h,l);i(this).each(function(q,r){var p,s;p=i(r);s=p.data("ajax_msg");if(!s){s=new b(p,m);p.data("ajax_msg",s)}if(typeof o==="object"&&j.length===1){m=i.extend({},o);s.setOptions(m);return p}if(g[o]){return g[o].call(p,s,Array.prototype.slice.call(j,1))}else{if(typeof o==="string"&&j.length===1){return g.on.call(p,s,j)}else{return i.error("Method "+o+" does not exist on $.fn.ajax_msg")}}});return this}})})(jQuery)}).call(this);
